<div class="master-container">

    <div class="modules-container">

      <!-- <mat-card class="example-card"> -->
      <mat-toolbar color="primary" class="mat-elevation-z4">
        <span>Modulos</span>
        <span class="spacer"></span>
        <button mat-button (click)="addModule = !addModule" class="add-button">
          <mat-icon>add</mat-icon>
        </button>
      </mat-toolbar>
      <mat-card *ngIf="addModule">
        <mat-card-content>
        <tecno-module-form
          [addMode]="true"
          (emitAddModule)="onAddModule($event)"
          (emitEditModule)="onEditModule($event)"
          (emitDeleteModule)="onDeleteModule($event)">
        </tecno-module-form>
        </mat-card-content>
      </mat-card>

      <mat-accordion class="example-headers-align">
        <mat-expansion-panel *ngFor="let module of menuModules" (click)="setModule(module)">
          <mat-expansion-panel-header>
            <mat-panel-title>
              {{ module.name }}
            </mat-panel-title>
            <mat-panel-description>
              {{ module.name }}
              <mat-icon>{{ module.iconv2.name ? module.iconv2.name : "link_off" }}</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

          <div class="row pt-20">
            <div class="col col-12">
              <mat-card-content>
                <tecno-module-form
                  [module]="menuModule"
                  (emitAddModule)="onAddModule($event)"
                  (emitEditModule)="onEditModule($event)"
                  (emitDeleteModule)="onDeleteModule($event)">
                </tecno-module-form>
              </mat-card-content>
            </div>
          </div>

        </mat-expansion-panel>
      </mat-accordion>
    </div>

    <div class="pages-container">


      <mat-toolbar color="primary" class="mat-elevation-z4">
        <span>PÃ¡ginas</span>
        <span class="spacer"></span>
        <button mat-button (click)="addPage= !addPage">
          <mat-icon>add</mat-icon>
        </button>
      </mat-toolbar>

      <mat-card *ngIf="addPage">
        <mat-card-content>
          <tecno-pages-form
            [addMode]="true"
            *ngIf="addPage"
            (emitAddPage)="onAddPage($event)"
            (emitEditPage)="onEditPage($event)"
            (emitDeletePage)="onDeletePage($event)">
          </tecno-pages-form>
        </mat-card-content>
      </mat-card>

      <mat-accordion class="example-headers-align">
        <mat-expansion-panel *ngFor="let page of menuPages" (click)="setPage(page)">
          <mat-expansion-panel-header>
            <mat-panel-title>
              {{ page.name }}
            </mat-panel-title>
            <mat-panel-description>
              {{ page.moduleName }}
              <mat-icon>{{ page.icon || "link_off" }}</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

          <div class="row pt-20">
            <div class="col col-12">
              <mat-card-content>
                <tecno-pages-form
                  [page]="menuPage"
                  (emitAddPage)="onAddPage($event)"
                  (emitEditPage)="onEditPage($event)"
                  (emitDeletePage)="onDeletePage($event)">
                </tecno-pages-form>
              </mat-card-content>
            </div>
          </div>

        </mat-expansion-panel>
      </mat-accordion>
    </div>
    
</div>